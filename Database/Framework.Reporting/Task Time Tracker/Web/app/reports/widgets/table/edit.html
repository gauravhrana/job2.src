<form role="form">
    <div class="form-group">
        <label for="dataset">Dataset</label>
        <select name="dataset" class="form-control" data-ui-select2="" data-ng-model="config.widgetInfo.Configuration.DashboardDatasetCode" required>
            <option value=""></option>
            <option ng-repeat="dataset in config.dashboard.Datasets" value="{{dataset.DashboardDatasetCode}}">{{dataset.DashboardDatasetCode}}</option>
        </select>    
    </div>
    
    <div class="form-group">
        <label>Columns</label>&nbsp;&nbsp;<a href="" ng-click="config.addColumn()" title="Add Column"><span class="glyphicon glyphicon-plus"></span></a>
        <table class="table table-striped table-condensed">
            <tr>
                <th>Field</th>
                <th>Display Name</th>
                <th>Display Order</th>
                <th>Format</th>
                <th></th>
            </tr>
            <tr data-ng-repeat="tableColumn in config.widgetInfo.Configuration.TableColumns">
                <td><input type="text" class="form-control input-sm" data-ng-model="tableColumn.Field" style="width: 160px;" /></td>
                <td><input type="text" class="form-control input-sm" data-ng-model="tableColumn.DisplayName" style="width: 160px;" /></td>
                <td><input type="number" class="form-control input-sm" data-ng-model="tableColumn.DisplayOrder" style="width: 50px;" /></td>
                <td>
                    <select class="form-control input-sm" data-ui-select2="" ng-model="tableColumn.DisplayFormatCode" required style="width: 130px;">
                        <option value=""></option>
                        <option data-ng-repeat="displayFormat in config.DisplayFormats" value="{{displayFormat.DisplayFormatCode}}">{{displayFormat.DisplayFormatCode}}</option>
                    </select>
                </td>
                <td><a href="" data-ng-click="config.deleteColumn(tableColumn)" title="Remove Column"><span class="glyphicon glyphicon-remove"></span></a></td>
            </tr>
        </table>
    </div>
</form>
